(function(t){function n(n){for(var i,r,s=n[0],c=n[1],l=n[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(n);while(f.length)f.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],i=!0,s=1;s<e.length;s++){var c=e[s];0!==a[c]&&(i=!1)}i&&(o.splice(n--,1),t=r(r.s=e[0]))}return t}var i={},a={app:0},o=[];function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/PersonalityTest/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var u=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},1452:function(t,n,e){},2321:function(t,n,e){"use strict";var i=e("98e9"),a=e.n(i);a.a},"345a":function(t,n,e){"use strict";var i=e("3a9a"),a=e.n(i);a.a},"3a9a":function(t,n,e){},4469:function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("home")],1)},o=[],r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e(t.nowIs,{tag:"component",attrs:{datas:t.nowProps},on:{click:t.countPlus}})],1)],1)},s=[],c=(e("a4d3"),e("e01a"),e("4160"),e("b0c0"),e("b64b"),e("159b"),"https://raw.githubusercontent.com/hexschool/js-training-task/master/api/BigFive.json"),l={},u={},d=[{},{},{},{},{}],f=[],p={},h={},m=function(t){return new Proxy(t,{get:function(t,n){return t[n]},set:function(t,n,e){return t[n]=e,1}})},v=function(t){l=t.name,l.description=t.description,u=t.traits,b(t.traits),_(t.problemList),y(t.problemList),g(t.problemList)},b=function(t){Object.keys(t).forEach((function(n){t[n].forEach((function(t,e){m(d)[e][n]=t}))}))},_=function(t){var n=[];u.en.forEach((function(e){return t[e].problems.forEach((function(t){return m(n).push(t.id)}))}));for(var e=0;e<n.length;e++)m(p)[e+1]=n[e]},g=function(t){u.en.forEach((function(n){return t[n].problems.forEach((function(t){return m(f).push(t)}))}))},y=function(t){u.en.forEach((function(n){m(h)[n]=t[n].description}))},C=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"titlePage"},[e("div",{staticClass:"main"},[e("h1",{staticClass:"title"},[t._v(t._s(t.datas.zh))]),e("h2",{staticClass:"subtitle"},[t._v(t._s(t.datas.en))])]),e("p",{staticClass:"descript"},[t._v(t._s(t.datas.description))]),e("btn",{attrs:{btnText:"開始測驗"},nativeOn:{click:function(n){return t.emitClick(n)}}})],1)},w=[],P=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("button",{staticClass:"btn btn__primary btn__lg",attrs:{type:"button"},on:{click:function(n){return n.preventDefault(),t.emitClick(n)}}},[t._v(t._s(t.btnText))])])},x=[],O={name:"btn",props:{btnText:{type:String,required:!0}},data:function(){return{}},methods:{emitClick:function(){this.$emit("click")}}},j=O,k=(e("a3aa"),e("2877")),S=Object(k["a"])(j,P,x,!1,null,"39c9e917",null),V=S.exports,T={name:"titlePage",components:{btn:V},props:{datas:{type:Object,required:!0}},data:function(){return{}},methods:{emitClick:function(){this.$emit("click")}}},E=T,$=(e("ecd6"),Object(k["a"])(E,C,w,!1,null,"4b962746",null)),q=$.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"problemPage"},[e("rounder",{staticClass:"top_left",attrs:{count:t.count}}),e("div",{staticClass:"h3 problem"},[t._v(t._s(t.filterProblem().problem))]),e("div",{staticClass:"container"},[e(t.showComponent,{ref:"radioCompontent",tag:"component",attrs:{radioSetting:t.radioSet},model:{value:t.radioVal,callback:function(n){t.radioVal=n},expression:"radioVal"}})],1),10===t.count?e("button",{staticClass:"btn bottom_right btn__primary",attrs:{type:"button",disabled:!parseInt(this.radioVal,10)},on:{click:t.changePage}},[t._v(t._s(t.showBtnText))]):e("button",{staticClass:"btn bottom_right btn__info",attrs:{type:"button",disabled:!parseInt(this.radioVal,10)},on:{click:t.countActive}},[t._v(t._s(t.showBtnText))])],1)},N=[],L=(e("4de4"),e("c740"),e("c975"),e("d81d"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"round-width"},[e("div",{staticClass:"round",attrs:{"data-count":t.count}})])}),I=[],B=(e("a9e3"),{name:"round",props:{count:{type:Number,required:!0}},data:function(){return{}},methods:{}}),F=B,D=(e("6cfb"),Object(k["a"])(F,L,I,!1,null,"122dcfcb",null)),K=D.exports,M=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:"radios-"+t.radioSetting.direction},t._l(t.radioSetting.options,(function(n){return e("div",{key:n[t.radioSetting["optionValName"]],staticClass:"form-control",class:"radio-"+t.radioSetting.size},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{id:"option"+n[t.radioSetting["optionValName"]],type:"radio",name:"1111"},domProps:{value:n[t.radioSetting["optionValName"]],checked:t._q(t.value,n[t.radioSetting["optionValName"]])},on:{change:[function(e){t.value=n[t.radioSetting["optionValName"]]},t.change]}}),e("label",{attrs:{for:"option"+n[t.radioSetting["optionValName"]]}},[e("span",[t._v(t._s(n[t.radioSetting["optionKeyName"]]))])])])})),0)},z=[],H={name:"radios",props:{radioSetting:{size:{type:String,required:!0},direction:{type:String,required:!0},options:{type:Array,required:!0},optionKeyName:{type:String,required:!0},optionValName:{type:String,required:!0}}},data:function(){return{value:0}},methods:{change:function(){this.$emit("input",this.value)}}},J=H,Y=(e("2321"),Object(k["a"])(J,M,z,!1,null,"a9ef8e46",null)),G=Y.exports,Q={name:"problemPage",components:{rounder:K,"v-radios":G},data:function(){return{count:1,radioSet:{size:"xl",direction:"vertical",optionKeyName:"description",optionValName:"fraction",options:[]},showComponent:"v-radios",radioVal:null,fractions:{}}},props:{datas:{type:Object,required:!0}},mounted:function(){this.filterProblem(),this.setFractionObj()},methods:{countActive:function(){this.count<10&&parseInt(this.radioVal,10)?(this.setFraction(),this.count+=1,this.$refs.radioCompontent.value=0):parseInt(this.radioVal,10)||this.showAlert()},changePage:function(){parseInt(this.radioVal,10)?(this.setFraction(),this.$emit("click",this.fractions)):this.showAlert()},filterProblem:function(){var t=this,n=this.datas.problemList.findIndex((function(n){return n.id===t.datas.problemMap[t.count]}));return this.radioSet.options=this.datas.problemList[n].options,this.datas.problemList[n]},setFractionObj:function(){var t=this,n=this.datas.problemList.map((function(t){return t.category})).filter((function(t,n,e){return e.indexOf(t)===n}));n.forEach((function(n){t.fractions[n]=[]}))},setFraction:function(){this.fractions[this.filterProblem().category].push(this.radioVal),this.radioVal=null},showAlert:function(){this.$swal.fire({icon:"error",title:"請選擇一個項目"})}},watch:{},computed:{showBtnText:function(){return this.count<=9?"下一題":"看結果"}}},R=Q,U=(e("b8b2"),Object(k["a"])(R,A,N,!1,null,"3fbb687b",null)),W=U.exports,X=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"finalPage",on:{scroll:t.scrollEvent}},[e("nav",{staticClass:"nav",style:{top:t.scrollTop+"px"}},[e("ul",{staticClass:"nav__list"},[t._l(t.datas.traitsArr,(function(n,i){return e("li",{key:i,staticClass:"nav__item",class:{order:t.nowTarget===n["en"]},attrs:{"data-order":i+1}},[e("a",{staticClass:"nav__link",class:{active:t.nowTarget===n["en"]},attrs:{href:"#"+n["en"],"data-name":n["en"]}},[e("span",{staticClass:"nav__counter"},[t._v(t._s("0"+(i+1)))]),e("h3",{staticClass:"nav__title"},[t._v(t._s(n["en"]))]),e("p",{staticClass:"nav__subtitle"},[t._v(t._s(n["zh"]))])])])})),e("li",{staticClass:"nav__item"},[e("a",{staticClass:"nav__link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.restart()}}},[e("span",{staticClass:"nav__restart"},[t._v("重新測驗")])])])],2)]),t._l(t.descriptLists,(function(t,n){return e("sections",{key:n,staticClass:"section",attrs:{setKey:n,setVal:t}})}))],2)},Z=[],tt=(e("a630"),e("13d5"),e("3ca3"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"section",attrs:{id:t.setKey}},[e("p",{staticClass:"dsec"},[t._v(t._s(t.setVal.desc))]),e("ul",{staticClass:"list"},[e("li",{class:{score:"high"===t.degree,middle:"middle"===t.degree}},[t._v("高："+t._s(t.setVal.high))]),e("li",{class:{score:"middle"===t.degree}},[t._v("中："+t._s(t.setVal.middle))]),e("li",{class:{score:"low"===t.degree,middle:"middle"===t.degree}},[t._v("低："+t._s(t.setVal.low))])])])}),nt=[],et={name:"sections",props:{setKey:{type:String,required:!0},setVal:{type:Object,required:!0}},data:function(){return{}},computed:{degree:function(){var t;return t=this.setVal.total>6?"high":this.setVal.total<6?"low":"middle",t}}},it=et,at=(e("9082"),Object(k["a"])(it,tt,nt,!1,null,"027b9ecf",null)),ot=at.exports,rt={name:"finalPage",components:{sections:ot},props:{datas:{type:Object,required:!0}},data:function(){return{fractions:{},scrollTop:0,nowTarget:"openness"}},mount:function(){},methods:{scrollEvent:function(t){var n=this;this.scrollTop=t.target.scrollTop;var e=t.target.offsetTop,i=Array.from(this.$el.querySelectorAll(".section"));i.forEach((function(t){var i=t.offsetTop-e-2,a=i+t.offsetHeight;i<=n.scrollTop&&a>n.scrollTop&&(n.nowTarget=t.id)}))},restart:function(){var t=this;t.$swal.fire({title:"重新測驗?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(n){n.value&&t.changePage()}))},changePage:function(){this.$emit("click")}},computed:{descriptLists:function(){var t=this.datas,n=t.descriptList;return Object.keys(t.data).forEach((function(e){n[e].total=t.data[e].reduce((function(t,n){return t+n}),0)})),n}}},st=rt,ct=(e("345a"),Object(k["a"])(st,X,Z,!1,null,"6860a9cb",null)),lt=ct.exports,ut={name:"Home",components:{"v-titlePage":q,"v-problemsPage":W,"v-finalPage":lt},data:function(){return{count:1,nowIs:"",nowProps:{},fractions:{}}},created:function(){this.changeComponents()},mounted:function(){this.getAPIData()},methods:{getAPIData:function(){var t=this;this.$http.get(c).then((function(n){v(n.data),t.loadData()}))},loadData:function(){var t=this;this.$nextTick((function(){t.nowProps=l}))},countPlus:function(t){this.count>3&&(this.count=1),this.count+=1,this.fractions=t},changeComponents:function(){var t={1:"v-titlePage",2:"v-problemsPage",3:"v-finalPage"};this.nowIs=t[this.count],2===this.count?this.toProblem():3===this.count?this.toFinal():this.count>3&&(this.count=1,this.loadData())},toProblem:function(){this.nowProps={problemMap:p,problemList:f}},toFinal:function(){var t=this.fractions;this.nowProps={descriptList:h,data:t,traitsArr:d},this.fractions={}}},watch:{count:function(){this.changeComponents()}},computed:{}},dt=ut,ft=(e("626b"),Object(k["a"])(dt,r,s,!1,null,"48de791b",null)),pt=ft.exports,ht={name:"App",components:{home:pt}},mt=ht,vt=(e("5c0b"),Object(k["a"])(mt,a,o,!1,null,null,null)),bt=vt.exports,_t=e("bc3a"),gt=e.n(_t),yt=e("a7fe"),Ct=e.n(yt),wt=(e("f5df1"),e("5886"));e("4413");i["a"].config.productionTip=!1,i["a"].use(Ct.a,gt.a),i["a"].use(wt["a"]),new i["a"]({render:function(t){return t(bt)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";var i=e("9c0c"),a=e.n(i);a.a},"626b":function(t,n,e){"use strict";var i=e("9bef"),a=e.n(i);a.a},"6cfb":function(t,n,e){"use strict";var i=e("4469"),a=e.n(i);a.a},9082:function(t,n,e){"use strict";var i=e("a46b"),a=e.n(i);a.a},"98e9":function(t,n,e){},"9bef":function(t,n,e){},"9c0c":function(t,n,e){},"9c11":function(t,n,e){},a3aa:function(t,n,e){"use strict";var i=e("1452"),a=e.n(i);a.a},a46b:function(t,n,e){},b8b2:function(t,n,e){"use strict";var i=e("d698"),a=e.n(i);a.a},d698:function(t,n,e){},ecd6:function(t,n,e){"use strict";var i=e("9c11"),a=e.n(i);a.a}});
//# sourceMappingURL=app.68c3200f.js.map